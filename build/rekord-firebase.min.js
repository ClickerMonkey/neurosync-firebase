!function(e,n,i,r){function t(e){return f(e.key)?e.key():e.key}function c(e){function n(n){var i=n.val(),r=t(n);e.liveSave(r,i)}function i(n){var i=t(n);e.liveRemove(i)}var r=e.getLiveFirebase?e.getLiveFirebase(e):e.api;return r?(r.on("child_added",n),r.on("child_changed",n),r.on("child_removed",i),{firebase:r,save:s,remove:s}):l.call(this,e)}function o(e){function t(n){return e.getFirebase?e.getFirebase(n,e):e.api}function c(n){return e.getQueryFirebase?e.getQueryFirebase(n):v(n)?i.database().ref(n):t()}function o(e){return function(){e({})}}function s(e){return function(n){e({},n.code)}}function l(e){return function(n){var i=n.val(),r=[];for(var t in i){var c=i[t];a(c)&&r.push(c)}e(r)}}function d(e){return function(n){e([],n.code)}}function b(e){for(var n in e)e[n]===r&&delete e[n]}return e.api||e.getFirebase?{getFirebase:t,getQueryFirebase:c,all:function(e,i){return n.forceOffline?i([],0):void t().once("value").then(l(e))["catch"](d(i))},get:function(e,i,r){function c(e){var n=e.val();i(n)}return n.forceOffline?r({},0):void t(e).child(e.$key()).once("value").then(c)["catch"](s(r))},create:function(e,i,r,c){return n.forceOffline?c({},0):(b(i),void t(e).child(e.$key()).set(i).then(o(r))["catch"](s(c)))},update:function(e,i,r,c){return n.forceOffline?c({},0):(b(i),void t(e).child(e.$key()).update(i).then(o(r))["catch"](s(c)))},remove:function(e,i,r){return n.forceOffline?r({},0):void t(e).child(e.$key()).remove().then(o(i))["catch"](s(r))},query:function(e,i,r,t){if(n.forceOffline)return t([],0);var o=c(e);if(a(i))for(var v in i){var s=i[v];if(u(s))for(var h=0;h<s.length;h++)o[v](s[h]);else o[v](s)}else f(i)&&i(o);o.once("value").then(l(r))["catch"](d(t))}}:h.call(this,e)}var a=n.isObject,f=n.isFunction,u=n.isArray,v=n.isString,s=n.noop,l=n.live,h=n.rest;n.setLive(c),n.setRest(o),n.Firebase={live:c,rest:o}}(this,this.Rekord,this.Firebase||this.firebase);
//# sourceMappingURL=rekord-firebase.min.js.map
