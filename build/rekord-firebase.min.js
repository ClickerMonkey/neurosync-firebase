!function(e,n,r){var o={},i=Rekord.live,t=Rekord.rest;Rekord.firebase=function(n){return n in o?o[n]:o[n]=new e(n)},Rekord.setLive(function(e){function n(n){var r=n.val(),o=n.key();e.liveSave(o,r)}function r(n){var r=(n.val(),n.key());e.liveRemove(r)}if(!e.api)return i.call(this,e);var o=e.api;return o.on("child_added",n),o.on("child_changed",n),o.on("child_removed",r),{firebase:o,save:Rekord.noop,remove:Rekord.noop}}),Rekord.setRest(function(e){function n(e,n){return function(r){r?n({},r):e({})}}function o(e){for(var n in e)e[n]===r&&delete e[n]}if(!e.api)return t.call(this,e);var i=e.api;return{firebase:i,all:function(e,n){function r(n){var r=n.val(),o=[];for(var i in r){var t=r[i];Rekord.isObject(t)&&o.push(t)}e(o)}function o(e){n([],e.code)}return Rekord.forceOffline?n([],0):void i.once("value",r,o)},get:function(e,n,r){function o(e){var r=e.val();n(r)}function i(e){r({},e.code)}return Rekord.forceOffline?r({},0):void file.child(e.$key()).once("value",o,i)},create:function(e,r,t,f){return Rekord.forceOffline?f({},0):(o(r),void i.child(e.$key()).set(r,n(t,f)))},update:function(e,r,t,f){return Rekord.forceOffline?f({},0):(o(r),void i.child(e.$key()).update(r,n(t,f)))},remove:function(e,r,o){return Rekord.forceOffline?o({},0):void i.child(e.$key()).remove(n(r,o))},query:function(e,n,r,o){r([])}}})}(Firebase,this);
//# sourceMappingURL=rekord-firebase.min.js.map
